import{__rest as e}from"tslib";import{Storage as r}from"aws-amplify";import{translate as t}from"../../../../i18n/translations.mjs";function l(t){var{file:l,fileName:a,level:o="private",progressCallback:s,errorCallback:i,completeCallback:n,isResumable:p=!1,provider:c}=t,b=e(t,["file","fileName","level","progressCallback","errorCallback","completeCallback","isResumable","provider"]);const m=l.type||"binary/octet-stream";return!0===p?r.put(a,l,Object.assign({level:o,resumable:p,progressCallback:s,errorCallback:i,completeCallback:n,contentType:m,provider:c},b)):r.put(a,l,Object.assign({level:o,resumable:!1,progressCallback:s,contentType:m,provider:c},b)).then(n,i)}function a(e,r=!1,t=1){const l=r?1e3:1024;if(Math.abs(e)<l)return e+" B";const a=r?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let o=-1;const s=Math.pow(10,t);do{e/=l,++o}while(Math.round(Math.abs(e)*s)/s>=l&&o<a.length-1);return e.toFixed(t)+" "+a[o]}const o=(e,r)=>e&&r.size>e?t("File size must be below ")+a(e,!0):null,s=(e,r)=>e.filter((e=>{const t=e.name||"",l=(e.type||"").toLowerCase(),a=l.replace(/\/.*$/,"");return r.some((e=>{const r=e.trim().toLowerCase();return"."===r.charAt(0)?t.toLowerCase().endsWith(r):r.endsWith("/*")?a===r.replace(/\/.*$/,""):l===r}))})),i=(e,r)=>{const t=e.split(".").pop();return r.split(".").pop()===t};export{o as checkMaxSize,a as humanFileSize,i as isValidExtension,s as returnAcceptedFiles,l as uploadFile};
